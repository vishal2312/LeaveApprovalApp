<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/my_leave.css') }}">
    <script src="{{url_for('static',path='/js/admin_dashboard.js')}}"></script>
    <script src="{{url_for('static',path='/js/varval.js')}}"></script>
    <title>Leave Management App</title>
    <script type="text/javascript">
        API_URL = "{{API_URL}}"
        APP_URL = "{{APP_URL}}"
    </script>
</head>
<body>

<nav class="navbar">
    <div class="container">
        <ul class="nav-list">
            <li><a href="/admin_dashboard" class="nav-link">Home</a></li>
            <li><a href="/manage_leave" class="nav-link">Manage Leaves</a></li>
            <li><a href="/signup" class="nav-link">Add Account</a></li>
        </ul>
    </div>
</nav>

<div class="container mt-3">
    <section class="dashboard">
        <!-- <h1>User Info</h1> -->
        <div class="filters">
            <label for="emailFilter">Username:</label>
            <select id="email" onchange="applyFilters()">
                <option value="None">Select User</option>
                {% for email in emails %}
                <option value="{{ email[0] }}">{{ email[0] }}</option>
                {% endfor %}
            </select>
        </div>

        <section class="dashboard">
            <!-- Dashboard Containers -->
            <div class="dashboard-container">
                <div class="dashboard-item-1">
                    <h3>Total Leaves</h3>
                    <p id="totalLeaves">0 / 0</p>
                </div>

                <div class="dashboard-item-2">
                    <h3>Planned Leaves</h3>
                    <p id="totalPlanned">0 / 0</p>
                </div>

                <div class="dashboard-item-3">
                    <h3>Unplanned Leaves</h3>
                    <p id="totalUnplanned">0 / 0</p>
                </div>

                <div class="dashboard-item-4">
                    <h3>LWP</h3>
                    <p id="totalLwp">0</p>
                </div>
            </div>
        </section>

        <table id="leaveTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Applied On</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Leave Type</th>
                    <th>From Date</th>
                    <th>To Date</th>
                    <th>No. Of Days</th>
                    <th>Reason</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody class="leaveTableBody">
                <!-- The data will be dynamically added here -->
            </tbody>
        </table>
    </section>
</div>

</body>
</html>
